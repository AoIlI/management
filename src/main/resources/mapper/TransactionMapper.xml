<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.example.demo.mapper.TransactionMapper">

    <select id="selectMaxTransactionId" resultType="string">
        SELECT MAX(transaction_id) FROM transactions
    </select>

    <insert id="insert" parameterType="org.example.demo.entity.Transaction">
        INSERT INTO transactions
        (transaction_id, member_id, amount, transaction_type, transaction_time, description)
        VALUES
            (#{transactionId}, #{memberId}, #{amount}, #{transactionType}, #{transactionTime}, #{description})
    </insert>

    <select id="selectByMemberId" resultType="org.example.demo.entity.Transaction">
        SELECT transaction_id AS transactionId, member_id AS memberId, amount,
               transaction_type AS transactionType, transaction_time AS transactionTime,
               description
        FROM transactions
        WHERE member_id = #{memberId}
        ORDER BY transaction_time DESC
    </select>

</mapper>



